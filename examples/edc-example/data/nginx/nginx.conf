
# Knowledge Directory
server {
    listen 80;
    server_name host-authority;

    location / {
        proxy_pass http://authority-identity-hub:7093;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# Alice
server {
    listen 80;
    server_name host-alice;

    location / {
        proxy_pass http://alice-identity-hub:7093;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# Bob
server {
    listen 80;
    server_name host-bob;

    location / {
        proxy_pass http://bob-identity-hub:7093;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# Carol
server {
    listen 80;
    server_name host-carol;

    location / {
        proxy_pass http://carol-identity-hub:7093;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
